{
    "collab_server" : "",
    "contents" : "fetch_eia_recs <- function() {\n    library(openxlsx)\n    \n    url_2009_data <- \"https://www.eia.gov/consumption/residential/data/2009/csv/recs2009_public.csv\"\n    file_2009_data <- \"./data/recs2009_public.csv\"\n    #download.file(url_2009_data, file_2009_data)\n    data_2009 <- read.csv(file_2009_data)\n    url_2009_codebook <- \"https://www.eia.gov/consumption/residential/data/2009/xls/recs2009_public_codebook.xlsx\"\n    file_2009_codebook <- \"./data/recs2009_public_codebook.xlsx\"\n    #download.file(url_2009_codebook, file_2009_codebook)\n    codebook_2009 <- read.xlsx(file_2009_codebook)\n    \n    url_2005_layout <- \"https://www.eia.gov/consumption/residential/data/2005/layoutfiles/RECS05layoutAllData.csv\"\n    file_2005_layout <- \"./data/RECS05layoutAllData.csv\"\n    #download.file(url_2005_layout, file_2005_layout)\n    layout_2005 <- read.csv(file_2005_layout)\n    url_2005_codebook <- \"https://www.eia.gov/consumption/residential/data/2005/pdf/recs05codebook.pdf\"\n    file_2005_codebook <- \"./data/recs05codebook.pdf\"\n    #download.file(url_2005_codebook, file_2005_codebook, mode=\"wb\")\n    pdf <- readPDF(control = list(c(text = \"-layout\")))\n    pdf <- pdf(elem=list(uri=file_2005_codebook),language=\"en\")\n#    noaa_events <- as.data.frame(toupper(c(pdf$content[seq(397, 420)], pdf$content[seq(425, 448)])))\n#    names(noaa_events) <- \"EventName\"\n#    noaa_events$EventName <- as.character(noaa_events$EventName)\n#    noaa_events$EventName\n    url_2005_data <- \"https://www.eia.gov/consumption/residential/data/2005/mdatfiles/RECS05alldata.csv\"\n    file_2005_data <- \"./data/RECS05alldata.csv\"\n    #download.file(url_2005_data, file_2005_data)\n    data_2005 <- read.csv(file_2005_data)\n    \n    # 2001\n    # file 8\n    url_2001_file8_data <- \"https://www.eia.gov/consumption/residential/data/2001/txt/datafile82001.txt\"\n    file_2001_file8_data <- \"./data/datafile82001.txt\"\n    #download.file(url_2001_file8_data, file_2001_file8_data)\n    data_file8_2001 <- read.csv(file_2001_file8_data)\n    url_2001_file8_codebook <- \"https://www.eia.gov/consumption/residential/data/2001/txt/codebook82001.txt\"\n    file_2001_file8_codebook <- \"./data/codebook82001.txt\"\n    #download.file(url_2001_file8_codebook, file_2001_file8_codebook)\n    codebook_file8_2001 <- read.csv(file_2001_file8_codebook)\n    # file 9\n    url_2001_file9_data <- \"https://www.eia.gov/consumption/residential/data/2001/txt/datafile92001.txt\"\n    file_2001_file9_data <- \"./data/datafile92001.txt\"\n    #download.file(url_2001_file9_data, file_2001_file9_data)\n    data_file9_2001 <- read.csv(file_2001_file9_data)\n    url_2001_file9_codebook <- \"https://www.eia.gov/consumption/residential/data/2001/txt/codebook92001.txt\"\n    file_2001_file9_codebook <- \"./data/codebook92001.txt\"\n    #download.file(url_2001_file9_codebook, file_2001_file9_codebook)\n    codebook_file9_2001 <- read.csv(file_2001_file9_codebook)\n    # file 11    \n    url_2001_file11_data <- \"https://www.eia.gov/consumption/residential/data/2001/txt/datafile112001.txt\"    \n    file_2001_file11_data <- \"./data/datafile112001.txt\"\n    #download.file(url_2001_file11_data, file_2001_file11_data)\n    data_file11_2001 <- read.csv(file_2001_file11_data)\n    url_2001_file11_codebook <- \"https://www.eia.gov/consumption/residential/data/2001/txt/codebook112001.txt\"\n    file_2001_file11_codebook <- \"./data/codebook112001.txt\"\n    #download.file(url_2001_file11_codebook, file_2001_file11_codebook)\n    codebook_file11_2001 <- read.csv(file_2001_file11_codebook)\n    \n    url_1997_file11_data <- \"https://www.eia.gov/consumption/residential/data/1997/txt/file11os.txt\"\n    url_1997_file11_codebook <- \"https://www.eia.gov/consumption/residential/data/1997/txt/file11cdb.txt\"\n    \n    url_1993_file11_data <- \"https://www.eia.gov/consumption/residential/data/1993/txt/file11_asc.txt\"\n    url_1993_file11_codebook <- \"https://www.eia.gov/consumption/residential/data/1993/txt/file11cdb.txt\"\n    \n    \n}",
    "created" : 1462239718015.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3233361677",
    "id" : "EB2EB68E",
    "lastKnownWriteTime" : 1462415171,
    "last_content_update" : 1462415171395,
    "path" : "~/dataScience/dataProducts/eia_recs/eia_recs.R",
    "project_path" : "eia_recs.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : true,
    "source_window" : "",
    "type" : "r_source"
}